NATIVE_ENABLED = false
BYTE_ENABLED = true

USE_OCAMLFIND = true

OCAMLFLAGS += -thread -syntax camlp4o
OCAMLDEPFLAGS += -syntax camlp4o

OCAMLPACKS[] =
    batteries
    pgocaml
    pgocaml.syntax
    magic
    fileutils

SOURCES_BATCH[] =
    db
    batch

SOURCES_DIR[] =
    db
    dir

OCamlProgram($(BIN)/ts-batch, $(SOURCES_BATCH))
OCamlProgram($(BIN)/ts-dir, $(SOURCES_DIR))

.PHONY: bin: $(BIN)/ts-batch $(BIN)/ts-dir

.DEFAULT: bin

.PHONY: clean:
	rm -f *.cm?